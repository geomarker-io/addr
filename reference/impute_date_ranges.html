<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><title>Impute date ranges from a chronological sequence of dates — impute_date_ranges • addr</title><script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><link href="../deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet"><script src="../deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><link href="../deps/Source_Code_Pro-0.4.10/font.css" rel="stylesheet"><link href="../deps/font-awesome-6.5.2/css/all.min.css" rel="stylesheet"><link href="../deps/font-awesome-6.5.2/css/v4-shims.min.css" rel="stylesheet"><script src="../deps/headroom-0.11.0/headroom.min.js"></script><script src="../deps/headroom-0.11.0/jQuery.headroom.min.js"></script><script src="../deps/bootstrap-toc-1.0.1/bootstrap-toc.min.js"></script><script src="../deps/clipboard.js-2.0.11/clipboard.min.js"></script><script src="../deps/search-1.0.0/autocomplete.jquery.min.js"></script><script src="../deps/search-1.0.0/fuse.min.js"></script><script src="../deps/search-1.0.0/mark.min.js"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Impute date ranges from a chronological sequence of dates — impute_date_ranges"><meta name="description" content="Imputed date ranges are calculated as the midpoints between the
leading and lagging dates, except for the start of the first date range
and the end of the last date range, which are used directly."><meta property="og:description" content="Imputed date ranges are calculated as the midpoints between the
leading and lagging dates, except for the start of the first date range
and the end of the last date range, which are used directly."></head><body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>


    <nav class="navbar navbar-expand-lg fixed-top bg-light" data-bs-theme="light" aria-label="Site navigation"><div class="container">

    <a class="navbar-brand me-2" href="../index.html">addr</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">0.6.0.9003</small>


    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto"><li class="nav-item"><a class="nav-link" href="../articles/addr.html">Get started</a></li>
<li class="active nav-item"><a class="nav-link" href="../reference/index.html">Reference</a></li>
      </ul><ul class="navbar-nav"><li class="nav-item"><form class="form-inline" role="search">
 <input class="form-control" type="search" name="search-input" id="search-input" autocomplete="off" aria-label="Search site" placeholder="Search for" data-search-index="../search.json"></form></li>
<li class="nav-item"><a class="external-link nav-link" href="https://github.com/cole-brokamp/addr/" aria-label="GitHub"><span class="fa fab fa-github fa-lg"></span></a></li>
      </ul></div>


  </div>
</nav><div class="container template-reference-topic">
<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">

      <h1>Impute date ranges from a chronological sequence of dates</h1>
      <small class="dont-index">Source: <a href="https://github.com/cole-brokamp/addr/blob/main/R/addr_date.R" class="external-link"><code>R/addr_date.R</code></a></small>
      <div class="d-none name"><code>impute_date_ranges.Rd</code></div>
    </div>

    <div class="ref-description section level2">
    <p>Imputed date ranges are calculated as the midpoints between the
leading and lagging dates, except for the start of the first date range
and the end of the last date range, which are used directly.</p>
    </div>

    <div class="section level2">
    <h2 id="ref-usage">Usage<a class="anchor" aria-label="anchor" href="#ref-usage"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span><span class="fu">impute_date_ranges</span><span class="op">(</span><span class="va">x</span>, start_early <span class="op">=</span> <span class="fl">0</span>, end_late <span class="op">=</span> <span class="fl">0</span><span class="op">)</span></span></code></pre></div>
    </div>

    <div class="section level2">
    <h2 id="arguments">Arguments<a class="anchor" aria-label="anchor" href="#arguments"></a></h2>


<dl><dt id="arg-x">x<a class="anchor" aria-label="anchor" href="#arg-x"></a></dt>
<dd><p>a (chronologically sorted) Date vector</p></dd>


<dt id="arg-start-early">start_early<a class="anchor" aria-label="anchor" href="#arg-start-early"></a></dt>
<dd><p>start the first imputed date range this many days early (coerced to integer)</p></dd>


<dt id="arg-end-late">end_late<a class="anchor" aria-label="anchor" href="#arg-end-late"></a></dt>
<dd><p>end the last imputed date range this many days late (coerced to integer)</p></dd>

</dl></div>
    <div class="section level2">
    <h2 id="value">Value<a class="anchor" aria-label="anchor" href="#value"></a></h2>
    <p>a list of <code>start</code> and <code>end</code> Date vectors for the imputed ranges for each input date in x</p>
    </div>
    <div class="section level2">
    <h2 id="details">Details<a class="anchor" aria-label="anchor" href="#details"></a></h2>
    <p>Use this function to impute an effective date range for a set of
addresses or location identifiers that were collected on unrelated days.
For example, residential addresses collected during a specific healthcare
encounter do not reflect when a patient actually changed addresses.
Imputing address date ranges for linking to other (spatio)temporal
data ensures <em>non-differential</em> exposure misclassification error with
respect to the changing exposures associated with each address.</p>
    </div>

    <div class="section level2">
    <h2 id="ref-examples">Examples<a class="anchor" aria-label="anchor" href="#ref-examples"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span class="r-in"><span><span class="fu">impute_date_ranges</span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"2024-01-01"</span>, <span class="st">"2024-03-17"</span>, <span class="st">"2024-09-21"</span><span class="op">)</span>,</span></span>
<span class="r-in"><span>  start_early <span class="op">=</span> <span class="fl">30</span>, end_late <span class="op">=</span> <span class="fl">60</span></span></span>
<span class="r-in"><span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> $start</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] "2023-12-02" "2024-02-08" "2024-06-19"</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> $end</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] "2024-02-08" "2024-06-19" "2024-11-20"</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># use within a data.frame with multiple individuals</span></span></span>
<span class="r-in"><span><span class="fu">tibble</span><span class="fu">::</span><span class="fu"><a href="https://tibble.tidyverse.org/reference/tribble.html" class="external-link">tribble</a></span><span class="op">(</span></span></span>
<span class="r-in"><span>  <span class="op">~</span><span class="va">id</span>, <span class="op">~</span><span class="va">encounter</span>, <span class="op">~</span><span class="va">date</span>,</span></span>
<span class="r-in"><span>  <span class="st">"A"</span>, <span class="fl">1</span>, <span class="st">"2024-01-01"</span>,</span></span>
<span class="r-in"><span>  <span class="st">"A"</span>, <span class="fl">2</span>, <span class="st">"2024-03-17"</span>,</span></span>
<span class="r-in"><span>  <span class="st">"A"</span>, <span class="fl">3</span>, <span class="st">"2024-09-21"</span>,</span></span>
<span class="r-in"><span>  <span class="st">"B"</span>, <span class="fl">1</span>, <span class="st">"2023-11-29"</span>,</span></span>
<span class="r-in"><span>  <span class="st">"B"</span>, <span class="fl">2</span>, <span class="st">"2024-09-22"</span>,</span></span>
<span class="r-in"><span>  <span class="st">"B"</span>, <span class="fl">3</span>, <span class="st">"2024-09-29"</span></span></span>
<span class="r-in"><span><span class="op">)</span> <span class="op">|&gt;</span></span></span>
<span class="r-in"><span>  <span class="fu">dplyr</span><span class="fu">::</span><span class="fu"><a href="https://dplyr.tidyverse.org/reference/mutate.html" class="external-link">mutate</a></span><span class="op">(</span></span></span>
<span class="r-in"><span>    imputed_start_date <span class="op">=</span> <span class="fu">impute_date_ranges</span><span class="op">(</span><span class="va">date</span><span class="op">)</span><span class="op">$</span><span class="va">start</span>,</span></span>
<span class="r-in"><span>    imputed_end_date <span class="op">=</span> <span class="fu">impute_date_ranges</span><span class="op">(</span><span class="va">date</span><span class="op">)</span><span class="op">$</span><span class="va">end</span>,</span></span>
<span class="r-in"><span>    .by <span class="op">=</span> <span class="st">"id"</span></span></span>
<span class="r-in"><span>  <span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #949494;"># A tibble: 6 × 5</span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   id    encounter date       imputed_start_date imputed_end_date</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>     <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span> <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>      <span style="color: #949494; font-style: italic;">&lt;date&gt;</span>             <span style="color: #949494; font-style: italic;">&lt;date&gt;</span>          </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;">1</span> A             1 2024-01-01 2024-01-01         2024-02-08      </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;">2</span> A             2 2024-03-17 2024-02-08         2024-06-19      </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;">3</span> A             3 2024-09-21 2024-06-19         2024-09-21      </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;">4</span> B             1 2023-11-29 2023-11-29         2024-04-26      </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;">5</span> B             2 2024-09-22 2024-04-26         2024-09-25      </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;">6</span> B             3 2024-09-29 2024-09-25         2024-09-29      </span>
</code></pre></div>
    </div>
  </main><aside class="col-md-3"><nav id="toc" aria-label="Table of contents"><h2>On this page</h2>
    </nav></aside></div>


    <footer><div class="pkgdown-footer-left">
  <p>Developed by Cole Brokamp, Erika Manning.</p>
</div>

<div class="pkgdown-footer-right">
  <p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.1.3.</p>
</div>

    </footer></div>





  </body></html>

